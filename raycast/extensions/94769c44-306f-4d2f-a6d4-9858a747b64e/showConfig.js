"use strict";var ys=Object.create;var W=Object.defineProperty;var Ss=Object.getOwnPropertyDescriptor;var Is=Object.getOwnPropertyNames;var Hs=Object.getPrototypeOf,Ns=Object.prototype.hasOwnProperty;var c=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),Ls=(e,t)=>{for(var s in t)W(e,s,{get:t[s],enumerable:!0})},Xe=(e,t,s,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let n of Is(t))!Ns.call(e,n)&&n!==s&&W(e,n,{get:()=>t[n],enumerable:!(r=Ss(t,n))||r.enumerable});return e};var _=(e,t,s)=>(s=e!=null?ys(Hs(e)):{},Xe(t||!e||!e.__esModule?W(s,"default",{value:e,enumerable:!0}):s,e)),Os=e=>Xe(W({},"__esModule",{value:!0}),e);var tt=c((ao,et)=>{"use strict";var A=class e extends Error{constructor(t,s,r){super("[ParserError] "+t,s,r),this.name="ParserError",this.code="ParserError",Error.captureStackTrace&&Error.captureStackTrace(this,e)}},Q=class{constructor(t){this.parser=t,this.buf="",this.returned=null,this.result=null,this.resultTable=null,this.resultArr=null}},v=class{constructor(){this.pos=0,this.col=0,this.line=0,this.obj={},this.ctx=this.obj,this.stack=[],this._buf="",this.char=null,this.ii=0,this.state=new Q(this.parseStart)}parse(t){if(t.length===0||t.length==null)return;this._buf=String(t),this.ii=-1,this.char=-1;let s;for(;s===!1||this.nextChar();)s=this.runOne();this._buf=null}nextChar(){return this.char===10&&(++this.line,this.col=-1),++this.ii,this.char=this._buf.codePointAt(this.ii),++this.pos,++this.col,this.haveBuffer()}haveBuffer(){return this.ii<this._buf.length}runOne(){return this.state.parser.call(this,this.state.returned)}finish(){this.char=1114112;let t;do t=this.state.parser,this.runOne();while(this.state.parser!==t);return this.ctx=null,this.state=null,this._buf=null,this.obj}next(t){if(typeof t!="function")throw new A("Tried to set state to non-existent state: "+JSON.stringify(t));this.state.parser=t}goto(t){return this.next(t),this.runOne()}call(t,s){s&&this.next(s),this.stack.push(this.state),this.state=new Q(t)}callNow(t,s){return this.call(t,s),this.runOne()}return(t){if(this.stack.length===0)throw this.error(new A("Stack underflow"));t===void 0&&(t=this.state.buf),this.state=this.stack.pop(),this.state.returned=t}returnNow(t){return this.return(t),this.runOne()}consume(){if(this.char===1114112)throw this.error(new A("Unexpected end-of-buffer"));this.state.buf+=this._buf[this.ii]}error(t){return t.line=this.line,t.col=this.col,t.pos=this.pos,t}parseStart(){throw new A("Must declare a parseStart method")}};v.END=1114112;v.Error=A;et.exports=v});var st=c((co,rt)=>{"use strict";rt.exports=e=>{let t=new Date(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var V=c((ho,nt)=>{"use strict";nt.exports=(e,t)=>{for(t=String(t);t.length<e;)t="0"+t;return t}});var ot=c((lo,it)=>{"use strict";var I=V(),xe=class extends Date{constructor(t){super(t+"Z"),this.isFloating=!0}toISOString(){let t=`${this.getUTCFullYear()}-${I(2,this.getUTCMonth()+1)}-${I(2,this.getUTCDate())}`,s=`${I(2,this.getUTCHours())}:${I(2,this.getUTCMinutes())}:${I(2,this.getUTCSeconds())}.${I(3,this.getUTCMilliseconds())}`;return`${t}T${s}`}};it.exports=e=>{let t=new xe(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var ht=c((uo,ct)=>{"use strict";var at=V(),Ps=global.Date,Ce=class extends Ps{constructor(t){super(t),this.isDate=!0}toISOString(){return`${this.getUTCFullYear()}-${at(2,this.getUTCMonth()+1)}-${at(2,this.getUTCDate())}`}};ct.exports=e=>{let t=new Ce(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var ut=c((fo,lt)=>{"use strict";var Z=V(),Te=class extends Date{constructor(t){super(`0000-01-01T${t}Z`),this.isTime=!0}toISOString(){return`${Z(2,this.getUTCHours())}:${Z(2,this.getUTCMinutes())}:${Z(2,this.getUTCSeconds())}.${Z(3,this.getUTCMilliseconds())}`}};lt.exports=e=>{let t=new Te(e);if(isNaN(t))throw new TypeError("Invalid Datetime");return t}});var J=c((exports,module)=>{"use strict";module.exports=makeParserClass(tt());module.exports.makeParserClass=makeParserClass;var TomlError=class e extends Error{constructor(t){super(t),this.name="TomlError",Error.captureStackTrace&&Error.captureStackTrace(this,e),this.fromTOML=!0,this.wrapped=null}};TomlError.wrap=e=>{let t=new TomlError(e.message);return t.code=e.code,t.wrapped=e,t};module.exports.TomlError=TomlError;var createDateTime=st(),createDateTimeFloat=ot(),createDate=ht(),createTime=ut(),CTRL_I=9,CTRL_J=10,CTRL_M=13,CTRL_CHAR_BOUNDARY=31,CHAR_SP=32,CHAR_QUOT=34,CHAR_NUM=35,CHAR_APOS=39,CHAR_PLUS=43,CHAR_COMMA=44,CHAR_HYPHEN=45,CHAR_PERIOD=46,CHAR_0=48,CHAR_1=49,CHAR_7=55,CHAR_9=57,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_A=65,CHAR_E=69,CHAR_F=70,CHAR_T=84,CHAR_U=85,CHAR_Z=90,CHAR_LOWBAR=95,CHAR_a=97,CHAR_b=98,CHAR_e=101,CHAR_f=102,CHAR_i=105,CHAR_l=108,CHAR_n=110,CHAR_o=111,CHAR_r=114,CHAR_s=115,CHAR_t=116,CHAR_u=117,CHAR_x=120,CHAR_z=122,CHAR_LCUB=123,CHAR_RCUB=125,CHAR_LSQB=91,CHAR_BSOL=92,CHAR_RSQB=93,CHAR_DEL=127,SURROGATE_FIRST=55296,SURROGATE_LAST=57343,escapes={[CHAR_b]:"\b",[CHAR_t]:"	",[CHAR_n]:`
`,[CHAR_f]:"\f",[CHAR_r]:"\r",[CHAR_QUOT]:'"',[CHAR_BSOL]:"\\"};function isDigit(e){return e>=CHAR_0&&e<=CHAR_9}function isHexit(e){return e>=CHAR_A&&e<=CHAR_F||e>=CHAR_a&&e<=CHAR_f||e>=CHAR_0&&e<=CHAR_9}function isBit(e){return e===CHAR_1||e===CHAR_0}function isOctit(e){return e>=CHAR_0&&e<=CHAR_7}function isAlphaNumQuoteHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_APOS||e===CHAR_QUOT||e===CHAR_LOWBAR||e===CHAR_HYPHEN}function isAlphaNumHyphen(e){return e>=CHAR_A&&e<=CHAR_Z||e>=CHAR_a&&e<=CHAR_z||e>=CHAR_0&&e<=CHAR_9||e===CHAR_LOWBAR||e===CHAR_HYPHEN}var _type=Symbol("type"),_declared=Symbol("declared"),hasOwnProperty=Object.prototype.hasOwnProperty,defineProperty=Object.defineProperty,descriptor={configurable:!0,enumerable:!0,writable:!0,value:void 0};function hasKey(e,t){return hasOwnProperty.call(e,t)?!0:(t==="__proto__"&&defineProperty(e,"__proto__",descriptor),!1)}var INLINE_TABLE=Symbol("inline-table");function InlineTable(){return Object.defineProperties({},{[_type]:{value:INLINE_TABLE}})}function isInlineTable(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_TABLE}var TABLE=Symbol("table");function Table(){return Object.defineProperties({},{[_type]:{value:TABLE},[_declared]:{value:!1,writable:!0}})}function isTable(e){return e===null||typeof e!="object"?!1:e[_type]===TABLE}var _contentType=Symbol("content-type"),INLINE_LIST=Symbol("inline-list");function InlineList(e){return Object.defineProperties([],{[_type]:{value:INLINE_LIST},[_contentType]:{value:e}})}function isInlineList(e){return e===null||typeof e!="object"?!1:e[_type]===INLINE_LIST}var LIST=Symbol("list");function List(){return Object.defineProperties([],{[_type]:{value:LIST}})}function isList(e){return e===null||typeof e!="object"?!1:e[_type]===LIST}var _custom;try{let utilInspect=eval("require('util').inspect");_custom=utilInspect.custom}catch(e){}var _inspect=_custom||"inspect",BoxedBigInt=class{constructor(t){try{this.value=global.BigInt.asIntN(64,t)}catch{this.value=null}Object.defineProperty(this,_type,{value:INTEGER})}isNaN(){return this.value===null}toString(){return String(this.value)}[_inspect](){return`[BigInt: ${this.toString()}]}`}valueOf(){return this.value}},INTEGER=Symbol("integer");function Integer(e){let t=Number(e);return Object.is(t,-0)&&(t=0),global.BigInt&&!Number.isSafeInteger(t)?new BoxedBigInt(e):Object.defineProperties(new Number(t),{isNaN:{value:function(){return isNaN(this)}},[_type]:{value:INTEGER},[_inspect]:{value:()=>`[Integer: ${e}]`}})}function isInteger(e){return e===null||typeof e!="object"?!1:e[_type]===INTEGER}var FLOAT=Symbol("float");function Float(e){return Object.defineProperties(new Number(e),{[_type]:{value:FLOAT},[_inspect]:{value:()=>`[Float: ${e}]`}})}function isFloat(e){return e===null||typeof e!="object"?!1:e[_type]===FLOAT}function tomlType(e){let t=typeof e;if(t==="object"){if(e===null)return"null";if(e instanceof Date)return"datetime";if(_type in e)switch(e[_type]){case INLINE_TABLE:return"inline-table";case INLINE_LIST:return"inline-list";case TABLE:return"table";case LIST:return"list";case FLOAT:return"float";case INTEGER:return"integer"}}return t}function makeParserClass(e){class t extends e{constructor(){super(),this.ctx=this.obj=Table()}atEndOfWord(){return this.char===CHAR_NUM||this.char===CTRL_I||this.char===CHAR_SP||this.atEndOfLine()}atEndOfLine(){return this.char===e.END||this.char===CTRL_J||this.char===CTRL_M}parseStart(){if(this.char===e.END)return null;if(this.char===CHAR_LSQB)return this.call(this.parseTableOrList);if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(isAlphaNumQuoteHyphen(this.char))return this.callNow(this.parseAssignStatement);throw this.error(new TomlError(`Unknown character "${this.char}"`))}parseWhitespaceToEOL(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M)return null;if(this.char===CHAR_NUM)return this.goto(this.parseComment);if(this.char===e.END||this.char===CTRL_J)return this.return();throw this.error(new TomlError("Unexpected character, expected only whitespace or comments till end of line"))}parseAssignStatement(){return this.callNow(this.parseAssign,this.recordAssignStatement)}recordAssignStatement(r){let n=this.ctx,i=r.key.pop();for(let o of r.key){if(hasKey(n,o)&&!isTable(n[o]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return n[_declared]=!0,isInteger(r.value)||isFloat(r.value)?n[i]=r.value.valueOf():n[i]=r.value,this.goto(this.parseWhitespaceToEOL)}parseAssign(){return this.callNow(this.parseKeyword,this.recordAssignKeyword)}recordAssignKeyword(r){return this.state.resultTable?this.state.resultTable.push(r):this.state.resultTable=[r],this.goto(this.parseAssignKeywordPreDot)}parseAssignKeywordPreDot(){if(this.char===CHAR_PERIOD)return this.next(this.parseAssignKeywordPostDot);if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.goto(this.parseAssignEqual)}parseAssignKeywordPostDot(){if(this.char!==CHAR_SP&&this.char!==CTRL_I)return this.callNow(this.parseKeyword,this.recordAssignKeyword)}parseAssignEqual(){if(this.char===CHAR_EQUALS)return this.next(this.parseAssignPreValue);throw this.error(new TomlError('Invalid character, expected "="'))}parseAssignPreValue(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseValue,this.recordAssignValue)}recordAssignValue(r){return this.returnNow({key:this.state.resultTable,value:r})}parseComment(){do{if(this.char===e.END||this.char===CTRL_J)return this.return();if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("comments")}while(this.nextChar())}parseTableOrList(){if(this.char===CHAR_LSQB)this.next(this.parseList);else return this.goto(this.parseTable)}parseTable(){return this.ctx=this.obj,this.goto(this.parseTableNext)}parseTableNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseTableMore)}parseTableMore(r){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,r)&&(!isTable(this.ctx[r])||this.ctx[r][_declared]))throw this.error(new TomlError("Can't redefine existing key"));return this.ctx=this.ctx[r]=this.ctx[r]||Table(),this.ctx[_declared]=!0,this.next(this.parseWhitespaceToEOL)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,r))this.ctx=this.ctx[r]=Table();else if(isTable(this.ctx[r]))this.ctx=this.ctx[r];else if(isList(this.ctx[r]))this.ctx=this.ctx[r][this.ctx[r].length-1];else throw this.error(new TomlError("Can't redefine existing key"));return this.next(this.parseTableNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseList(){return this.ctx=this.obj,this.goto(this.parseListNext)}parseListNext(){return this.char===CHAR_SP||this.char===CTRL_I?null:this.callNow(this.parseKeyword,this.parseListMore)}parseListMore(r){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CHAR_RSQB){if(hasKey(this.ctx,r)||(this.ctx[r]=List()),isInlineList(this.ctx[r]))throw this.error(new TomlError("Can't extend an inline array"));if(isList(this.ctx[r])){let n=Table();this.ctx[r].push(n),this.ctx=n}else throw this.error(new TomlError("Can't redefine an existing key"));return this.next(this.parseListEnd)}else if(this.char===CHAR_PERIOD){if(!hasKey(this.ctx,r))this.ctx=this.ctx[r]=Table();else{if(isInlineList(this.ctx[r]))throw this.error(new TomlError("Can't extend an inline array"));if(isInlineTable(this.ctx[r]))throw this.error(new TomlError("Can't extend an inline table"));if(isList(this.ctx[r]))this.ctx=this.ctx[r][this.ctx[r].length-1];else if(isTable(this.ctx[r]))this.ctx=this.ctx[r];else throw this.error(new TomlError("Can't redefine an existing key"))}return this.next(this.parseListNext)}else throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseListEnd(r){if(this.char===CHAR_RSQB)return this.next(this.parseWhitespaceToEOL);throw this.error(new TomlError("Unexpected character, expected whitespace, . or ]"))}parseValue(){if(this.char===e.END)throw this.error(new TomlError("Key without value"));if(this.char===CHAR_QUOT)return this.next(this.parseDoubleString);if(this.char===CHAR_APOS)return this.next(this.parseSingleString);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)return this.goto(this.parseNumberSign);if(this.char===CHAR_i)return this.next(this.parseInf);if(this.char===CHAR_n)return this.next(this.parseNan);if(isDigit(this.char))return this.goto(this.parseNumberOrDateTime);if(this.char===CHAR_t||this.char===CHAR_f)return this.goto(this.parseBoolean);if(this.char===CHAR_LSQB)return this.call(this.parseInlineList,this.recordValue);if(this.char===CHAR_LCUB)return this.call(this.parseInlineTable,this.recordValue);throw this.error(new TomlError("Unexpected character, expecting string, number, datetime, boolean, inline array or inline table"))}recordValue(r){return this.returnNow(r)}parseInf(){if(this.char===CHAR_n)return this.next(this.parseInf2);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseInf2(){if(this.char===CHAR_f)return this.state.buf==="-"?this.return(-1/0):this.return(1/0);throw this.error(new TomlError('Unexpected character, expected "inf", "+inf" or "-inf"'))}parseNan(){if(this.char===CHAR_a)return this.next(this.parseNan2);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseNan2(){if(this.char===CHAR_n)return this.return(NaN);throw this.error(new TomlError('Unexpected character, expected "nan"'))}parseKeyword(){return this.char===CHAR_QUOT?this.next(this.parseBasicString):this.char===CHAR_APOS?this.next(this.parseLiteralString):this.goto(this.parseBareKey)}parseBareKey(){do{if(this.char===e.END)throw this.error(new TomlError("Key ended without value"));if(isAlphaNumHyphen(this.char))this.consume();else{if(this.state.buf.length===0)throw this.error(new TomlError("Empty bare keys are not allowed"));return this.returnNow()}}while(this.nextChar())}parseSingleString(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiStringMaybe):this.goto(this.parseLiteralString)}parseLiteralString(){do{if(this.char===CHAR_APOS)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiStringMaybe(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiString):this.returnNow()}parseLiteralMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseLiteralMultiStringContent):this.goto(this.parseLiteralMultiStringContent)}parseLiteralMultiStringContent(){do{if(this.char===CHAR_APOS)return this.next(this.parseLiteralMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}parseLiteralMultiEnd(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd2):(this.state.buf+="'",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd2(){return this.char===CHAR_APOS?this.next(this.parseLiteralMultiEnd3):(this.state.buf+="''",this.goto(this.parseLiteralMultiStringContent))}parseLiteralMultiEnd3(){return this.char===CHAR_APOS?(this.state.buf+="'",this.next(this.parseLiteralMultiEnd4)):this.returnNow()}parseLiteralMultiEnd4(){return this.char===CHAR_APOS?(this.state.buf+="'",this.return()):this.returnNow()}parseDoubleString(){return this.char===CHAR_QUOT?this.next(this.parseMultiStringMaybe):this.goto(this.parseBasicString)}parseBasicString(){do{if(this.char===CHAR_BSOL)return this.call(this.parseEscape,this.recordEscapeReplacement);if(this.char===CHAR_QUOT)return this.return();if(this.atEndOfLine())throw this.error(new TomlError("Unterminated string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}recordEscapeReplacement(r){return this.state.buf+=r,this.goto(this.parseBasicString)}parseMultiStringMaybe(){return this.char===CHAR_QUOT?this.next(this.parseMultiString):this.returnNow()}parseMultiString(){return this.char===CTRL_M?null:this.char===CTRL_J?this.next(this.parseMultiStringContent):this.goto(this.parseMultiStringContent)}parseMultiStringContent(){do{if(this.char===CHAR_BSOL)return this.call(this.parseMultiEscape,this.recordMultiEscapeReplacement);if(this.char===CHAR_QUOT)return this.next(this.parseMultiEnd);if(this.char===e.END)throw this.error(new TomlError("Unterminated multi-line string"));if(this.char===CHAR_DEL||this.char<=CTRL_CHAR_BOUNDARY&&this.char!==CTRL_I&&this.char!==CTRL_J&&this.char!==CTRL_M)throw this.errorControlCharIn("strings");this.consume()}while(this.nextChar())}errorControlCharIn(r){let n="\\u00";return this.char<16&&(n+="0"),n+=this.char.toString(16),this.error(new TomlError(`Control characters (codes < 0x1f and 0x7f) are not allowed in ${r}, use ${n} instead`))}recordMultiEscapeReplacement(r){return this.state.buf+=r,this.goto(this.parseMultiStringContent)}parseMultiEnd(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd2):(this.state.buf+='"',this.goto(this.parseMultiStringContent))}parseMultiEnd2(){return this.char===CHAR_QUOT?this.next(this.parseMultiEnd3):(this.state.buf+='""',this.goto(this.parseMultiStringContent))}parseMultiEnd3(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.next(this.parseMultiEnd4)):this.returnNow()}parseMultiEnd4(){return this.char===CHAR_QUOT?(this.state.buf+='"',this.return()):this.returnNow()}parseMultiEscape(){return this.char===CTRL_M||this.char===CTRL_J?this.next(this.parseMultiTrim):this.char===CHAR_SP||this.char===CTRL_I?this.next(this.parsePreMultiTrim):this.goto(this.parseEscape)}parsePreMultiTrim(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===CTRL_M||this.char===CTRL_J)return this.next(this.parseMultiTrim);throw this.error(new TomlError("Can't escape whitespace"))}parseMultiTrim(){return this.char===CTRL_J||this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M?null:this.returnNow()}parseEscape(){if(this.char in escapes)return this.return(escapes[this.char]);if(this.char===CHAR_u)return this.call(this.parseSmallUnicode,this.parseUnicodeReturn);if(this.char===CHAR_U)return this.call(this.parseLargeUnicode,this.parseUnicodeReturn);throw this.error(new TomlError("Unknown escape character: "+this.char))}parseUnicodeReturn(r){try{let n=parseInt(r,16);if(n>=SURROGATE_FIRST&&n<=SURROGATE_LAST)throw this.error(new TomlError("Invalid unicode, character in range 0xD800 - 0xDFFF is reserved"));return this.returnNow(String.fromCodePoint(n))}catch(n){throw this.error(TomlError.wrap(n))}}parseSmallUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=4)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseLargeUnicode(){if(isHexit(this.char)){if(this.consume(),this.state.buf.length>=8)return this.return()}else throw this.error(new TomlError("Invalid character in unicode sequence, expected hex"))}parseNumberSign(){return this.consume(),this.next(this.parseMaybeSignedInfOrNan)}parseMaybeSignedInfOrNan(){return this.char===CHAR_i?this.next(this.parseInf):this.char===CHAR_n?this.next(this.parseNan):this.callNow(this.parseNoUnder,this.parseNumberIntegerStart)}parseNumberIntegerStart(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberIntegerExponentOrDecimal)):this.goto(this.parseNumberInteger)}parseNumberIntegerExponentOrDecimal(){return this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Integer(this.state.buf))}parseNumberInteger(){if(isDigit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder);if(this.char===CHAR_E||this.char===CHAR_e)return this.consume(),this.next(this.parseNumberExponentSign);if(this.char===CHAR_PERIOD)return this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat);{let r=Integer(this.state.buf);if(r.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(r)}}}parseNoUnder(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD||this.char===CHAR_E||this.char===CHAR_e)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNoUnderHexOctBinLiteral(){if(this.char===CHAR_LOWBAR||this.char===CHAR_PERIOD)throw this.error(new TomlError("Unexpected character, expected digit"));if(this.atEndOfWord())throw this.error(new TomlError("Incomplete number"));return this.returnNow()}parseNumberFloat(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberFloat);if(isDigit(this.char))this.consume();else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.returnNow(Float(this.state.buf))}parseNumberExponentSign(){if(isDigit(this.char))return this.goto(this.parseNumberExponent);if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.call(this.parseNoUnder,this.parseNumberExponent);else throw this.error(new TomlError("Unexpected character, expected -, + or digit"))}parseNumberExponent(){if(isDigit(this.char))this.consume();else return this.char===CHAR_LOWBAR?this.call(this.parseNoUnder):this.returnNow(Float(this.state.buf))}parseNumberOrDateTime(){return this.char===CHAR_0?(this.consume(),this.next(this.parseNumberBaseOrDateTime)):this.goto(this.parseNumberOrDateTimeOnly)}parseNumberOrDateTimeOnly(){if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnder,this.parseNumberInteger);if(isDigit(this.char))this.consume(),this.state.buf.length>4&&this.next(this.parseNumberInteger);else return this.char===CHAR_E||this.char===CHAR_e?(this.consume(),this.next(this.parseNumberExponentSign)):this.char===CHAR_PERIOD?(this.consume(),this.call(this.parseNoUnder,this.parseNumberFloat)):this.char===CHAR_HYPHEN?this.goto(this.parseDateTime):this.char===CHAR_COLON?this.goto(this.parseOnlyTimeHour):this.returnNow(Integer(this.state.buf))}parseDateTimeOnly(){if(this.state.buf.length<4){if(isDigit(this.char))return this.consume();if(this.char===CHAR_COLON)return this.goto(this.parseOnlyTimeHour);throw this.error(new TomlError("Expected digit while parsing year part of a date"))}else{if(this.char===CHAR_HYPHEN)return this.goto(this.parseDateTime);throw this.error(new TomlError("Expected hyphen (-) while parsing year part of date"))}}parseNumberBaseOrDateTime(){return this.char===CHAR_b?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerBin)):this.char===CHAR_o?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerOct)):this.char===CHAR_x?(this.consume(),this.call(this.parseNoUnderHexOctBinLiteral,this.parseIntegerHex)):this.char===CHAR_PERIOD?this.goto(this.parseNumberInteger):isDigit(this.char)?this.goto(this.parseDateTimeOnly):this.returnNow(Integer(this.state.buf))}parseIntegerHex(){if(isHexit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let r=Integer(this.state.buf);if(r.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(r)}}}parseIntegerOct(){if(isOctit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let r=Integer(this.state.buf);if(r.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(r)}}}parseIntegerBin(){if(isBit(this.char))this.consume();else{if(this.char===CHAR_LOWBAR)return this.call(this.parseNoUnderHexOctBinLiteral);{let r=Integer(this.state.buf);if(r.isNaN())throw this.error(new TomlError("Invalid number"));return this.returnNow(r)}}}parseDateTime(){if(this.state.buf.length<4)throw this.error(new TomlError("Years less than 1000 must be zero padded to four characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseDateMonth)}parseDateMonth(){if(this.char===CHAR_HYPHEN){if(this.state.buf.length<2)throw this.error(new TomlError("Months less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseDateDay)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseDateDay(){if(this.char===CHAR_T||this.char===CHAR_SP){if(this.state.buf.length<2)throw this.error(new TomlError("Days less than 10 must be zero padded to two characters"));return this.state.result+="-"+this.state.buf,this.state.buf="",this.next(this.parseStartTimeHour)}else{if(this.atEndOfWord())return this.returnNow(createDate(this.state.result+"-"+this.state.buf));if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}}parseStartTimeHour(){return this.atEndOfWord()?this.returnNow(createDate(this.state.result)):this.goto(this.parseTimeHour)}parseTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result+="T"+this.state.buf,this.state.buf="",this.next(this.parseTimeMin)}else if(isDigit(this.char))this.consume();else throw this.error(new TomlError("Incomplete datetime"))}parseTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeSec);throw this.error(new TomlError("Incomplete datetime"))}}parseTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseTimeZoneOrFraction)}else throw this.error(new TomlError("Incomplete datetime"))}parseOnlyTimeHour(){if(this.char===CHAR_COLON){if(this.state.buf.length<2)throw this.error(new TomlError("Hours less than 10 must be zero padded to two characters"));return this.state.result=this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeMin)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeMin(){if(this.state.buf.length<2&&isDigit(this.char))this.consume();else{if(this.state.buf.length===2&&this.char===CHAR_COLON)return this.state.result+=":"+this.state.buf,this.state.buf="",this.next(this.parseOnlyTimeSec);throw this.error(new TomlError("Incomplete time"))}}parseOnlyTimeSec(){if(isDigit(this.char)){if(this.consume(),this.state.buf.length===2)return this.next(this.parseOnlyTimeFractionMaybe)}else throw this.error(new TomlError("Incomplete time"))}parseOnlyTimeFractionMaybe(){if(this.state.result+=":"+this.state.buf,this.char===CHAR_PERIOD)this.state.buf="",this.next(this.parseOnlyTimeFraction);else return this.return(createTime(this.state.result))}parseOnlyTimeFraction(){if(isDigit(this.char))this.consume();else if(this.atEndOfWord()){if(this.state.buf.length===0)throw this.error(new TomlError("Expected digit in milliseconds"));return this.returnNow(createTime(this.state.result+"."+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}parseTimeZoneOrFraction(){if(this.char===CHAR_PERIOD)this.consume(),this.next(this.parseDateTimeFraction);else if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}parseDateTimeFraction(){if(isDigit(this.char))this.consume();else{if(this.state.buf.length===1)throw this.error(new TomlError("Expected digit in milliseconds"));if(this.char===CHAR_HYPHEN||this.char===CHAR_PLUS)this.consume(),this.next(this.parseTimeZoneHour);else{if(this.char===CHAR_Z)return this.consume(),this.return(createDateTime(this.state.result+this.state.buf));if(this.atEndOfWord())return this.returnNow(createDateTimeFloat(this.state.result+this.state.buf));throw this.error(new TomlError("Unexpected character in datetime, expected period (.), minus (-), plus (+) or Z"))}}}parseTimeZoneHour(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.next(this.parseTimeZoneSep)}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseTimeZoneSep(){if(this.char===CHAR_COLON)this.consume(),this.next(this.parseTimeZoneMin);else throw this.error(new TomlError("Unexpected character in datetime, expected colon"))}parseTimeZoneMin(){if(isDigit(this.char)){if(this.consume(),/\d\d$/.test(this.state.buf))return this.return(createDateTime(this.state.result+this.state.buf))}else throw this.error(new TomlError("Unexpected character in datetime, expected digit"))}parseBoolean(){if(this.char===CHAR_t)return this.consume(),this.next(this.parseTrue_r);if(this.char===CHAR_f)return this.consume(),this.next(this.parseFalse_a)}parseTrue_r(){if(this.char===CHAR_r)return this.consume(),this.next(this.parseTrue_u);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_u(){if(this.char===CHAR_u)return this.consume(),this.next(this.parseTrue_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseTrue_e(){if(this.char===CHAR_e)return this.return(!0);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_a(){if(this.char===CHAR_a)return this.consume(),this.next(this.parseFalse_l);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_l(){if(this.char===CHAR_l)return this.consume(),this.next(this.parseFalse_s);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_s(){if(this.char===CHAR_s)return this.consume(),this.next(this.parseFalse_e);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseFalse_e(){if(this.char===CHAR_e)return this.return(!1);throw this.error(new TomlError("Invalid boolean, expected true or false"))}parseInlineList(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===e.END)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_NUM?this.call(this.parseComment):this.char===CHAR_RSQB?this.return(this.state.resultArr||InlineList()):this.callNow(this.parseValue,this.recordInlineListValue)}recordInlineListValue(r){return this.state.resultArr||(this.state.resultArr=InlineList(tomlType(r))),isFloat(r)||isInteger(r)?this.state.resultArr.push(r.valueOf()):this.state.resultArr.push(r),this.goto(this.parseInlineListNext)}parseInlineListNext(){if(this.char===CHAR_SP||this.char===CTRL_I||this.char===CTRL_M||this.char===CTRL_J)return null;if(this.char===CHAR_NUM)return this.call(this.parseComment);if(this.char===CHAR_COMMA)return this.next(this.parseInlineList);if(this.char===CHAR_RSQB)return this.goto(this.parseInlineList);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTable(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));return this.char===CHAR_RCUB?this.return(this.state.resultTable||InlineTable()):(this.state.resultTable||(this.state.resultTable=InlineTable()),this.callNow(this.parseAssign,this.recordInlineTableValue))}recordInlineTableValue(r){let n=this.state.resultTable,i=r.key.pop();for(let o of r.key){if(hasKey(n,o)&&(!isTable(n[o])||n[o][_declared]))throw this.error(new TomlError("Can't redefine existing key"));n=n[o]=n[o]||Table()}if(hasKey(n,i))throw this.error(new TomlError("Can't redefine existing key"));return isInteger(r.value)||isFloat(r.value)?n[i]=r.value.valueOf():n[i]=r.value,this.goto(this.parseInlineTableNext)}parseInlineTableNext(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)return this.next(this.parseInlineTablePostComma);if(this.char===CHAR_RCUB)return this.goto(this.parseInlineTable);throw this.error(new TomlError("Invalid character, expected whitespace, comma (,) or close bracket (])"))}parseInlineTablePostComma(){if(this.char===CHAR_SP||this.char===CTRL_I)return null;if(this.char===e.END||this.char===CHAR_NUM||this.char===CTRL_J||this.char===CTRL_M)throw this.error(new TomlError("Unterminated inline array"));if(this.char===CHAR_COMMA)throw this.error(new TomlError("Empty elements in inline tables are not permitted"));if(this.char===CHAR_RCUB)throw this.error(new TomlError("Trailing commas in inline tables are not permitted"));return this.goto(this.parseInlineTable)}}return t}});var Y=c((po,ft)=>{"use strict";ft.exports=Ms;function Ms(e,t){if(e.pos==null||e.line==null)return e;let s=e.message;if(s+=` at row ${e.line+1}, col ${e.col+1}, pos ${e.pos}:
`,t&&t.split){let r=t.split(/\n/),n=String(Math.min(r.length,e.line+3)).length,i=" ";for(;i.length<n;)i+=" ";for(let o=Math.max(0,e.line-1);o<Math.min(r.length,e.line+2);++o){let a=String(o+1);if(a.length<n&&(a=" "+a),e.line===o){s+=a+"> "+r[o]+`
`,s+=i+"  ";for(let h=0;h<e.col;++h)s+=" ";s+=`^
`}else s+=a+": "+r[o]+`
`}}return e.message=s+`
`,e}});var dt=c((mo,pt)=>{"use strict";pt.exports=vs;var Ds=J(),Us=Y();function vs(e){global.Buffer&&global.Buffer.isBuffer(e)&&(e=e.toString("utf8"));let t=new Ds;try{return t.parse(e),t.finish()}catch(s){throw Us(s,e)}}});var xt=c((go,gt)=>{"use strict";gt.exports=Fs;var Bs=J(),mt=Y();function Fs(e,t){t||(t={});let s=0,r=t.blocksize||40960,n=new Bs;return new Promise((o,a)=>{setImmediate(i,s,r,o,a)});function i(o,a,h,l){if(o>=e.length)try{return h(n.finish())}catch(u){return l(mt(u,e))}try{n.parse(e.slice(o,o+a)),setImmediate(i,o+a,a,h,l)}catch(u){l(mt(u,e))}}}});var wt=c((xo,Tt)=>{"use strict";Tt.exports=qs;var Gs=require("stream"),Ct=J();function qs(e){return e?$s(e):ks(e)}function $s(e){let t=new Ct;return e.setEncoding("utf8"),new Promise((s,r)=>{let n,i=!1,o=!1;function a(){if(i=!0,!n)try{s(t.finish())}catch(u){r(u)}}function h(u){o=!0,r(u)}e.once("end",a),e.once("error",h),l();function l(){n=!0;let u;for(;(u=e.read())!==null;)try{t.parse(u)}catch(d){return h(d)}if(n=!1,i)return a();o||e.once("readable",l)}})}function ks(){let e=new Ct;return new Gs.Transform({objectMode:!0,transform(t,s,r){try{e.parse(t.toString(s))}catch(n){this.emit("error",n)}r()},flush(t){try{this.push(e.finish())}catch(s){this.emit("error",s)}t()}})}});var _t=c((Co,B)=>{"use strict";B.exports=dt();B.exports.async=xt();B.exports.stream=wt();B.exports.prettyError=Y()});var It=c((To,Re)=>{"use strict";Re.exports=Ks;Re.exports.value=_e;function Ks(e){if(e===null)throw E("null");if(e===void 0)throw E("undefined");if(typeof e!="object")throw E(typeof e);if(typeof e.toJSON=="function"&&(e=e.toJSON()),e==null)return null;let t=T(e);if(t!=="table")throw E(t);return we("","",e)}function E(e){return new Error("Can only stringify objects, not "+e)}function Rt(e){return Object.keys(e).filter(t=>At(e[t]))}function js(e){return Object.keys(e).filter(t=>!At(e[t]))}function z(e){let t=Array.isArray(e)?[]:Object.prototype.hasOwnProperty.call(e,"__proto__")?{["__proto__"]:void 0}:{};for(let s of Object.keys(e))e[s]&&typeof e[s].toJSON=="function"&&!("toISOString"in e[s])?t[s]=e[s].toJSON():t[s]=e[s];return t}function we(e,t,s){s=z(s);let r,n;r=Rt(s),n=js(s);let i=[],o=t||"";r.forEach(h=>{var l=T(s[h]);l!=="undefined"&&l!=="null"&&i.push(o+X(h)+" = "+yt(s[h],!0))}),i.length>0&&i.push("");let a=e&&r.length>0?t+"  ":"";return n.forEach(h=>{i.push(en(e,a,h,s[h]))}),i.join(`
`)}function At(e){switch(T(e)){case"undefined":case"null":case"integer":case"nan":case"float":case"boolean":case"string":case"datetime":return!0;case"array":return e.length===0||T(e[0])!=="table";case"table":return Object.keys(e).length===0;default:return!1}}function T(e){return e===void 0?"undefined":e===null?"null":typeof e=="bigint"||Number.isInteger(e)&&!Object.is(e,-0)?"integer":typeof e=="number"?"float":typeof e=="boolean"?"boolean":typeof e=="string"?"string":"toISOString"in e?isNaN(e)?"undefined":"datetime":Array.isArray(e)?"array":"table"}function X(e){let t=String(e);return/^[-A-Za-z0-9_]+$/.test(t)?t:Et(t)}function Et(e){return'"'+bt(e).replace(/"/g,'\\"')+'"'}function Ws(e){return"'"+e+"'"}function Qs(e,t){for(;t.length<e;)t="0"+t;return t}function bt(e){return e.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/([\u0000-\u001f\u007f])/,t=>"\\u"+Qs(4,t.codePointAt(0).toString(16)))}function Vs(e){let t=e.split(/\n/).map(s=>bt(s).replace(/"(?="")/g,'\\"')).join(`
`);return t.slice(-1)==='"'&&(t+=`\\
`),`"""
`+t+'"""'}function yt(e,t){let s=T(e);return s==="string"&&(t&&/\n/.test(e)?s="string-multiline":!/[\b\t\n\f\r']/.test(e)&&/"/.test(e)&&(s="string-literal")),_e(e,s)}function _e(e,t){switch(t||(t=T(e)),t){case"string-multiline":return Vs(e);case"string":return Et(e);case"string-literal":return Ws(e);case"integer":return St(e);case"float":return Zs(e);case"boolean":return Js(e);case"datetime":return Ys(e);case"array":return zs(e.filter(s=>T(s)!=="null"&&T(s)!=="undefined"&&T(s)!=="nan"));case"table":return Xs(e);default:throw E(t)}}function St(e){return String(e).replace(/\B(?=(\d{3})+(?!\d))/g,"_")}function Zs(e){if(e===1/0)return"inf";if(e===-1/0)return"-inf";if(Object.is(e,NaN))return"nan";if(Object.is(e,-0))return"-0.0";let[t,s]=String(e).split(".");return St(t)+"."+s}function Js(e){return String(e)}function Ys(e){return e.toISOString()}function zs(e){e=z(e);let t="[",s=e.map(r=>_e(r));return s.join(", ").length>60||/\n/.test(s)?t+=`
  `+s.join(`,
  `)+`
`:t+=" "+s.join(", ")+(s.length>0?" ":""),t+"]"}function Xs(e){e=z(e);let t=[];return Object.keys(e).forEach(s=>{t.push(X(s)+" = "+yt(e[s],!1))}),"{ "+t.join(", ")+(t.length>0?" ":"")+"}"}function en(e,t,s,r){let n=T(r);if(n==="array")return tn(e,t,s,r);if(n==="table")return rn(e,t,s,r);throw E(n)}function tn(e,t,s,r){r=z(r);let n=T(r[0]);if(n!=="table")throw E(n);let i=e+X(s),o="";return r.forEach(a=>{o.length>0&&(o+=`
`),o+=t+"[["+i+`]]
`,o+=we(i+".",t,a)}),o}function rn(e,t,s,r){let n=e+X(s),i="";return Rt(r).length>0&&(i+=t+"["+n+`]
`),i+we(n+".",t,r)}});var Ee=c(Ae=>{"use strict";Ae.parse=_t();Ae.stringify=It()});var Pt=c((_o,Ot)=>{Ot.exports=Lt;Lt.sync=nn;var Ht=require("fs");function sn(e,t){var s=t.pathExt!==void 0?t.pathExt:process.env.PATHEXT;if(!s||(s=s.split(";"),s.indexOf("")!==-1))return!0;for(var r=0;r<s.length;r++){var n=s[r].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}function Nt(e,t,s){return!e.isSymbolicLink()&&!e.isFile()?!1:sn(t,s)}function Lt(e,t,s){Ht.stat(e,function(r,n){s(r,r?!1:Nt(n,e,t))})}function nn(e,t){return Nt(Ht.statSync(e),e,t)}});var Bt=c((Ro,vt)=>{vt.exports=Dt;Dt.sync=on;var Mt=require("fs");function Dt(e,t,s){Mt.stat(e,function(r,n){s(r,r?!1:Ut(n,t))})}function on(e,t){return Ut(Mt.statSync(e),t)}function Ut(e,t){return e.isFile()&&an(e,t)}function an(e,t){var s=e.mode,r=e.uid,n=e.gid,i=t.uid!==void 0?t.uid:process.getuid&&process.getuid(),o=t.gid!==void 0?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),h=parseInt("010",8),l=parseInt("001",8),u=a|h,d=s&l||s&h&&n===o||s&a&&r===i||s&u&&i===0;return d}});var Gt=c((Eo,Ft)=>{var Ao=require("fs"),ee;process.platform==="win32"||global.TESTING_WINDOWS?ee=Pt():ee=Bt();Ft.exports=be;be.sync=cn;function be(e,t,s){if(typeof t=="function"&&(s=t,t={}),!s){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(r,n){be(e,t||{},function(i,o){i?n(i):r(o)})})}ee(e,t||{},function(r,n){r&&(r.code==="EACCES"||t&&t.ignoreErrors)&&(r=null,n=!1),s(r,n)})}function cn(e,t){try{return ee.sync(e,t||{})}catch(s){if(t&&t.ignoreErrors||s.code==="EACCES")return!1;throw s}}});var Qt=c((bo,Wt)=>{var H=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",qt=require("path"),hn=H?";":":",$t=Gt(),kt=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),Kt=(e,t)=>{let s=t.colon||hn,r=e.match(/\//)||H&&e.match(/\\/)?[""]:[...H?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(s)],n=H?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",i=H?n.split(s):[""];return H&&e.indexOf(".")!==-1&&i[0]!==""&&i.unshift(""),{pathEnv:r,pathExt:i,pathExtExe:n}},jt=(e,t,s)=>{typeof t=="function"&&(s=t,t={}),t||(t={});let{pathEnv:r,pathExt:n,pathExtExe:i}=Kt(e,t),o=[],a=l=>new Promise((u,d)=>{if(l===r.length)return t.all&&o.length?u(o):d(kt(e));let m=r[l],g=/^".*"$/.test(m)?m.slice(1,-1):m,x=qt.join(g,e),C=!g&&/^\.[\\\/]/.test(e)?e.slice(0,2)+x:x;u(h(C,l,0))}),h=(l,u,d)=>new Promise((m,g)=>{if(d===n.length)return m(a(u+1));let x=n[d];$t(l+x,{pathExt:i},(C,S)=>{if(!C&&S)if(t.all)o.push(l+x);else return m(l+x);return m(h(l,u,d+1))})});return s?a(0).then(l=>s(null,l),s):a(0)},ln=(e,t)=>{t=t||{};let{pathEnv:s,pathExt:r,pathExtExe:n}=Kt(e,t),i=[];for(let o=0;o<s.length;o++){let a=s[o],h=/^".*"$/.test(a)?a.slice(1,-1):a,l=qt.join(h,e),u=!h&&/^\.[\\\/]/.test(e)?e.slice(0,2)+l:l;for(let d=0;d<r.length;d++){let m=u+r[d];try{if($t.sync(m,{pathExt:n}))if(t.all)i.push(m);else return m}catch{}}}if(t.all&&i.length)return i;if(t.nothrow)return null;throw kt(e)};Wt.exports=jt;jt.sync=ln});var Se=c((yo,ye)=>{"use strict";var Vt=(e={})=>{let t=e.env||process.env;return(e.platform||process.platform)!=="win32"?"PATH":Object.keys(t).reverse().find(r=>r.toUpperCase()==="PATH")||"Path"};ye.exports=Vt;ye.exports.default=Vt});var zt=c((So,Yt)=>{"use strict";var Zt=require("path"),un=Qt(),fn=Se();function Jt(e,t){let s=e.options.env||process.env,r=process.cwd(),n=e.options.cwd!=null,i=n&&process.chdir!==void 0&&!process.chdir.disabled;if(i)try{process.chdir(e.options.cwd)}catch{}let o;try{o=un.sync(e.command,{path:s[fn({env:s})],pathExt:t?Zt.delimiter:void 0})}catch{}finally{i&&process.chdir(r)}return o&&(o=Zt.resolve(n?e.options.cwd:"",o)),o}function pn(e){return Jt(e)||Jt(e,!0)}Yt.exports=pn});var Xt=c((Io,He)=>{"use strict";var Ie=/([()\][%!^"`<>&|;, *?])/g;function dn(e){return e=e.replace(Ie,"^$1"),e}function mn(e,t){return e=`${e}`,e=e.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),e=e.replace(/(?=(\\+?)?)\1$/,"$1$1"),e=`"${e}"`,e=e.replace(Ie,"^$1"),t&&(e=e.replace(Ie,"^$1")),e}He.exports.command=dn;He.exports.argument=mn});var tr=c((Ho,er)=>{"use strict";er.exports=/^#!(.*)/});var sr=c((No,rr)=>{"use strict";var gn=tr();rr.exports=(e="")=>{let t=e.match(gn);if(!t)return null;let[s,r]=t[0].replace(/#! ?/,"").split(" "),n=s.split("/").pop();return n==="env"?r:r?`${n} ${r}`:n}});var ir=c((Lo,nr)=>{"use strict";var Ne=require("fs"),xn=sr();function Cn(e){let s=Buffer.alloc(150),r;try{r=Ne.openSync(e,"r"),Ne.readSync(r,s,0,150,0),Ne.closeSync(r)}catch{}return xn(s.toString())}nr.exports=Cn});var hr=c((Oo,cr)=>{"use strict";var Tn=require("path"),or=zt(),ar=Xt(),wn=ir(),_n=process.platform==="win32",Rn=/\.(?:com|exe)$/i,An=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function En(e){e.file=or(e);let t=e.file&&wn(e.file);return t?(e.args.unshift(e.file),e.command=t,or(e)):e.file}function bn(e){if(!_n)return e;let t=En(e),s=!Rn.test(t);if(e.options.forceShell||s){let r=An.test(t);e.command=Tn.normalize(e.command),e.command=ar.command(e.command),e.args=e.args.map(i=>ar.argument(i,r));let n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}function yn(e,t,s){t&&!Array.isArray(t)&&(s=t,t=null),t=t?t.slice(0):[],s=Object.assign({},s);let r={command:e,args:t,options:s,file:void 0,original:{command:e,args:t}};return s.shell?r:bn(r)}cr.exports=yn});var fr=c((Po,ur)=>{"use strict";var Le=process.platform==="win32";function Oe(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function Sn(e,t){if(!Le)return;let s=e.emit;e.emit=function(r,n){if(r==="exit"){let i=lr(n,t);if(i)return s.call(e,"error",i)}return s.apply(e,arguments)}}function lr(e,t){return Le&&e===1&&!t.file?Oe(t.original,"spawn"):null}function In(e,t){return Le&&e===1&&!t.file?Oe(t.original,"spawnSync"):null}ur.exports={hookChildProcess:Sn,verifyENOENT:lr,verifyENOENTSync:In,notFoundError:Oe}});var mr=c((Mo,N)=>{"use strict";var pr=require("child_process"),Pe=hr(),Me=fr();function dr(e,t,s){let r=Pe(e,t,s),n=pr.spawn(r.command,r.args,r.options);return Me.hookChildProcess(n,r),n}function Hn(e,t,s){let r=Pe(e,t,s),n=pr.spawnSync(r.command,r.args,r.options);return n.error=n.error||Me.verifyENOENTSync(n.status,r),n}N.exports=dr;N.exports.spawn=dr;N.exports.sync=Hn;N.exports._parse=Pe;N.exports._enoent=Me});var xr=c((Do,gr)=>{"use strict";gr.exports=e=>{let t=typeof e=="string"?`
`:10,s=typeof e=="string"?"\r":13;return e[e.length-1]===t&&(e=e.slice(0,e.length-1)),e[e.length-1]===s&&(e=e.slice(0,e.length-1)),e}});var wr=c((Uo,G)=>{"use strict";var F=require("path"),Cr=Se(),Tr=e=>{e={cwd:process.cwd(),path:process.env[Cr()],execPath:process.execPath,...e};let t,s=F.resolve(e.cwd),r=[];for(;t!==s;)r.push(F.join(s,"node_modules/.bin")),t=s,s=F.resolve(s,"..");let n=F.resolve(e.cwd,e.execPath,"..");return r.push(n),r.concat(e.path).join(F.delimiter)};G.exports=Tr;G.exports.default=Tr;G.exports.env=e=>{e={env:process.env,...e};let t={...e.env},s=Cr({env:t});return e.path=t[s],t[s]=G.exports(e),t}});var Rr=c((vo,De)=>{"use strict";var _r=(e,t)=>{for(let s of Reflect.ownKeys(t))Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s));return e};De.exports=_r;De.exports.default=_r});var Er=c((Bo,re)=>{"use strict";var Nn=Rr(),te=new WeakMap,Ar=(e,t={})=>{if(typeof e!="function")throw new TypeError("Expected a function");let s,r=0,n=e.displayName||e.name||"<anonymous>",i=function(...o){if(te.set(i,++r),r===1)s=e.apply(this,o),e=null;else if(t.throw===!0)throw new Error(`Function \`${n}\` can only be called once`);return s};return Nn(i,e),te.set(i,r),i};re.exports=Ar;re.exports.default=Ar;re.exports.callCount=e=>{if(!te.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return te.get(e)}});var br=c(se=>{"use strict";Object.defineProperty(se,"__esModule",{value:!0});se.SIGNALS=void 0;var Ln=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];se.SIGNALS=Ln});var Ue=c(L=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});L.SIGRTMAX=L.getRealtimeSignals=void 0;var On=function(){let e=Sr-yr+1;return Array.from({length:e},Pn)};L.getRealtimeSignals=On;var Pn=function(e,t){return{name:`SIGRT${t+1}`,number:yr+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},yr=34,Sr=64;L.SIGRTMAX=Sr});var Ir=c(ne=>{"use strict";Object.defineProperty(ne,"__esModule",{value:!0});ne.getSignals=void 0;var Mn=require("os"),Dn=br(),Un=Ue(),vn=function(){let e=(0,Un.getRealtimeSignals)();return[...Dn.SIGNALS,...e].map(Bn)};ne.getSignals=vn;var Bn=function({name:e,number:t,description:s,action:r,forced:n=!1,standard:i}){let{signals:{[e]:o}}=Mn.constants,a=o!==void 0;return{name:e,number:a?o:t,description:s,supported:a,action:r,forced:n,standard:i}}});var Nr=c(O=>{"use strict";Object.defineProperty(O,"__esModule",{value:!0});O.signalsByNumber=O.signalsByName=void 0;var Fn=require("os"),Hr=Ir(),Gn=Ue(),qn=function(){return(0,Hr.getSignals)().reduce($n,{})},$n=function(e,{name:t,number:s,description:r,supported:n,action:i,forced:o,standard:a}){return{...e,[t]:{name:t,number:s,description:r,supported:n,action:i,forced:o,standard:a}}},kn=qn();O.signalsByName=kn;var Kn=function(){let e=(0,Hr.getSignals)(),t=Gn.SIGRTMAX+1,s=Array.from({length:t},(r,n)=>jn(n,e));return Object.assign({},...s)},jn=function(e,t){let s=Wn(e,t);if(s===void 0)return{};let{name:r,description:n,supported:i,action:o,forced:a,standard:h}=s;return{[e]:{name:r,number:e,description:n,supported:i,action:o,forced:a,standard:h}}},Wn=function(e,t){let s=t.find(({name:r})=>Fn.constants.signals[r]===e);return s!==void 0?s:t.find(r=>r.number===e)},Qn=Kn();O.signalsByNumber=Qn});var Or=c((ko,Lr)=>{"use strict";var{signalsByName:Vn}=Nr(),Zn=({timedOut:e,timeout:t,errorCode:s,signal:r,signalDescription:n,exitCode:i,isCanceled:o})=>e?`timed out after ${t} milliseconds`:o?"was canceled":s!==void 0?`failed with ${s}`:r!==void 0?`was killed with ${r} (${n})`:i!==void 0?`failed with exit code ${i}`:"failed",Jn=({stdout:e,stderr:t,all:s,error:r,signal:n,exitCode:i,command:o,escapedCommand:a,timedOut:h,isCanceled:l,killed:u,parsed:{options:{timeout:d}}})=>{i=i===null?void 0:i,n=n===null?void 0:n;let m=n===void 0?void 0:Vn[n].description,g=r&&r.code,C=`Command ${Zn({timedOut:h,timeout:d,errorCode:g,signal:n,signalDescription:m,exitCode:i,isCanceled:l})}: ${o}`,S=Object.prototype.toString.call(r)==="[object Error]",K=S?`${C}
${r.message}`:C,j=[K,t,e].filter(Boolean).join(`
`);return S?(r.originalMessage=r.message,r.message=j):r=new Error(j),r.shortMessage=K,r.command=o,r.escapedCommand=a,r.exitCode=i,r.signal=n,r.signalDescription=m,r.stdout=e,r.stderr=t,s!==void 0&&(r.all=s),"bufferedData"in r&&delete r.bufferedData,r.failed=!0,r.timedOut=!!h,r.isCanceled=l,r.killed=u&&!h,r};Lr.exports=Jn});var Mr=c((Ko,ve)=>{"use strict";var ie=["stdin","stdout","stderr"],Yn=e=>ie.some(t=>e[t]!==void 0),Pr=e=>{if(!e)return;let{stdio:t}=e;if(t===void 0)return ie.map(r=>e[r]);if(Yn(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${ie.map(r=>`\`${r}\``).join(", ")}`);if(typeof t=="string")return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);let s=Math.max(t.length,ie.length);return Array.from({length:s},(r,n)=>t[n])};ve.exports=Pr;ve.exports.node=e=>{let t=Pr(e);return t==="ipc"?"ipc":t===void 0||typeof t=="string"?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]}});var Dr=c((jo,oe)=>{oe.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&oe.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&oe.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var Gr=c((Wo,D)=>{var f=global.process,b=function(e){return e&&typeof e=="object"&&typeof e.removeListener=="function"&&typeof e.emit=="function"&&typeof e.reallyExit=="function"&&typeof e.listeners=="function"&&typeof e.kill=="function"&&typeof e.pid=="number"&&typeof e.on=="function"};b(f)?(Ur=require("assert"),P=Dr(),vr=/^win/i.test(f.platform),q=require("events"),typeof q!="function"&&(q=q.EventEmitter),f.__signal_exit_emitter__?p=f.__signal_exit_emitter__:(p=f.__signal_exit_emitter__=new q,p.count=0,p.emitted={}),p.infinite||(p.setMaxListeners(1/0),p.infinite=!0),D.exports=function(e,t){if(!b(global.process))return function(){};Ur.equal(typeof e,"function","a callback must be provided for exit handler"),M===!1&&Be();var s="exit";t&&t.alwaysLast&&(s="afterexit");var r=function(){p.removeListener(s,e),p.listeners("exit").length===0&&p.listeners("afterexit").length===0&&ae()};return p.on(s,e),r},ae=function(){!M||!b(global.process)||(M=!1,P.forEach(function(t){try{f.removeListener(t,ce[t])}catch{}}),f.emit=he,f.reallyExit=Fe,p.count-=1)},D.exports.unload=ae,y=function(t,s,r){p.emitted[t]||(p.emitted[t]=!0,p.emit(t,s,r))},ce={},P.forEach(function(e){ce[e]=function(){if(b(global.process)){var s=f.listeners(e);s.length===p.count&&(ae(),y("exit",null,e),y("afterexit",null,e),vr&&e==="SIGHUP"&&(e="SIGINT"),f.kill(f.pid,e))}}}),D.exports.signals=function(){return P},M=!1,Be=function(){M||!b(global.process)||(M=!0,p.count+=1,P=P.filter(function(t){try{return f.on(t,ce[t]),!0}catch{return!1}}),f.emit=Fr,f.reallyExit=Br)},D.exports.load=Be,Fe=f.reallyExit,Br=function(t){b(global.process)&&(f.exitCode=t||0,y("exit",f.exitCode,null),y("afterexit",f.exitCode,null),Fe.call(f,f.exitCode))},he=f.emit,Fr=function(t,s){if(t==="exit"&&b(global.process)){s!==void 0&&(f.exitCode=s);var r=he.apply(this,arguments);return y("exit",f.exitCode,null),y("afterexit",f.exitCode,null),r}else return he.apply(this,arguments)}):D.exports=function(){return function(){}};var Ur,P,vr,q,p,ae,y,ce,M,Be,Fe,Br,he,Fr});var $r=c((Qo,qr)=>{"use strict";var zn=require("os"),Xn=Gr(),ei=1e3*5,ti=(e,t="SIGTERM",s={})=>{let r=e(t);return ri(e,t,s,r),r},ri=(e,t,s,r)=>{if(!si(t,s,r))return;let n=ii(s),i=setTimeout(()=>{e("SIGKILL")},n);i.unref&&i.unref()},si=(e,{forceKillAfterTimeout:t},s)=>ni(e)&&t!==!1&&s,ni=e=>e===zn.constants.signals.SIGTERM||typeof e=="string"&&e.toUpperCase()==="SIGTERM",ii=({forceKillAfterTimeout:e=!0})=>{if(e===!0)return ei;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},oi=(e,t)=>{e.kill()&&(t.isCanceled=!0)},ai=(e,t,s)=>{e.kill(t),s(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))},ci=(e,{timeout:t,killSignal:s="SIGTERM"},r)=>{if(t===0||t===void 0)return r;let n,i=new Promise((a,h)=>{n=setTimeout(()=>{ai(e,s,h)},t)}),o=r.finally(()=>{clearTimeout(n)});return Promise.race([i,o])},hi=({timeout:e})=>{if(e!==void 0&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},li=async(e,{cleanup:t,detached:s},r)=>{if(!t||s)return r;let n=Xn(()=>{e.kill()});return r.finally(()=>{n()})};qr.exports={spawnedKill:ti,spawnedCancel:oi,setupTimeout:ci,validateTimeout:hi,setExitHandler:li}});var Kr=c((Vo,kr)=>{"use strict";var w=e=>e!==null&&typeof e=="object"&&typeof e.pipe=="function";w.writable=e=>w(e)&&e.writable!==!1&&typeof e._write=="function"&&typeof e._writableState=="object";w.readable=e=>w(e)&&e.readable!==!1&&typeof e._read=="function"&&typeof e._readableState=="object";w.duplex=e=>w.writable(e)&&w.readable(e);w.transform=e=>w.duplex(e)&&typeof e._transform=="function";kr.exports=w});var Wr=c((Zo,jr)=>{"use strict";var{PassThrough:ui}=require("stream");jr.exports=e=>{e={...e};let{array:t}=e,{encoding:s}=e,r=s==="buffer",n=!1;t?n=!(s||r):s=s||"utf8",r&&(s=null);let i=new ui({objectMode:n});s&&i.setEncoding(s);let o=0,a=[];return i.on("data",h=>{a.push(h),n?o=a.length:o+=h.length}),i.getBufferedValue=()=>t?a:r?Buffer.concat(a,o):a.join(""),i.getBufferedLength=()=>o,i}});var Qr=c((Jo,$)=>{"use strict";var{constants:fi}=require("buffer"),pi=require("stream"),{promisify:di}=require("util"),mi=Wr(),gi=di(pi.pipeline),le=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Ge(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};let{maxBuffer:s}=t,r=mi(t);return await new Promise((n,i)=>{let o=a=>{a&&r.getBufferedLength()<=fi.MAX_LENGTH&&(a.bufferedData=r.getBufferedValue()),i(a)};(async()=>{try{await gi(e,r),n()}catch(a){o(a)}})(),r.on("data",()=>{r.getBufferedLength()>s&&o(new le)})}),r.getBufferedValue()}$.exports=Ge;$.exports.buffer=(e,t)=>Ge(e,{...t,encoding:"buffer"});$.exports.array=(e,t)=>Ge(e,{...t,array:!0});$.exports.MaxBufferError=le});var Zr=c((Yo,Vr)=>{"use strict";var{PassThrough:xi}=require("stream");Vr.exports=function(){var e=[],t=new xi({objectMode:!0});return t.setMaxListeners(0),t.add=s,t.isEmpty=r,t.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(s),t;function s(i){return Array.isArray(i)?(i.forEach(s),this):(e.push(i),i.once("end",n.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function r(){return e.length==0}function n(i){e=e.filter(function(o){return o!==i}),!e.length&&t.readable&&t.end()}}});var Xr=c((zo,zr)=>{"use strict";var Yr=Kr(),Jr=Qr(),Ci=Zr(),Ti=(e,t)=>{t===void 0||e.stdin===void 0||(Yr(t)?t.pipe(e.stdin):e.stdin.end(t))},wi=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;let s=Ci();return e.stdout&&s.add(e.stdout),e.stderr&&s.add(e.stderr),s},qe=async(e,t)=>{if(e){e.destroy();try{return await t}catch(s){return s.bufferedData}}},$e=(e,{encoding:t,buffer:s,maxBuffer:r})=>{if(!(!e||!s))return t?Jr(e,{encoding:t,maxBuffer:r}):Jr.buffer(e,{maxBuffer:r})},_i=async({stdout:e,stderr:t,all:s},{encoding:r,buffer:n,maxBuffer:i},o)=>{let a=$e(e,{encoding:r,buffer:n,maxBuffer:i}),h=$e(t,{encoding:r,buffer:n,maxBuffer:i}),l=$e(s,{encoding:r,buffer:n,maxBuffer:i*2});try{return await Promise.all([o,a,h,l])}catch(u){return Promise.all([{error:u,signal:u.signal,timedOut:u.timedOut},qe(e,a),qe(t,h),qe(s,l)])}},Ri=({input:e})=>{if(Yr(e))throw new TypeError("The `input` option cannot be a stream in sync mode")};zr.exports={handleInput:Ti,makeAllStream:wi,getSpawnedResult:_i,validateInputSync:Ri}});var ts=c((Xo,es)=>{"use strict";var Ai=(async()=>{})().constructor.prototype,Ei=["then","catch","finally"].map(e=>[e,Reflect.getOwnPropertyDescriptor(Ai,e)]),bi=(e,t)=>{for(let[s,r]of Ei){let n=typeof t=="function"?(...i)=>Reflect.apply(r.value,t(),i):r.value.bind(t);Reflect.defineProperty(e,s,{...r,value:n})}return e},yi=e=>new Promise((t,s)=>{e.on("exit",(r,n)=>{t({exitCode:r,signal:n})}),e.on("error",r=>{s(r)}),e.stdin&&e.stdin.on("error",r=>{s(r)})});es.exports={mergePromise:bi,getSpawnedPromise:yi}});var ns=c((ea,ss)=>{"use strict";var rs=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],Si=/^[\w.-]+$/,Ii=/"/g,Hi=e=>typeof e!="string"||Si.test(e)?e:`"${e.replace(Ii,'\\"')}"`,Ni=(e,t)=>rs(e,t).join(" "),Li=(e,t)=>rs(e,t).map(s=>Hi(s)).join(" "),Oi=/ +/g,Pi=e=>{let t=[];for(let s of e.trim().split(Oi)){let r=t[t.length-1];r&&r.endsWith("\\")?t[t.length-1]=`${r.slice(0,-1)} ${s}`:t.push(s)}return t};ss.exports={joinCommand:Ni,getEscapedCommand:Li,parseCommand:Pi}});var us=c((ta,U)=>{"use strict";var Mi=require("path"),ke=require("child_process"),Di=mr(),Ui=xr(),vi=wr(),Bi=Er(),ue=Or(),os=Mr(),{spawnedKill:Fi,spawnedCancel:Gi,setupTimeout:qi,validateTimeout:$i,setExitHandler:ki}=$r(),{handleInput:Ki,getSpawnedResult:ji,makeAllStream:Wi,validateInputSync:Qi}=Xr(),{mergePromise:is,getSpawnedPromise:Vi}=ts(),{joinCommand:as,parseCommand:cs,getEscapedCommand:hs}=ns(),Zi=1e3*1e3*100,Ji=({env:e,extendEnv:t,preferLocal:s,localDir:r,execPath:n})=>{let i=t?{...process.env,...e}:e;return s?vi.env({env:i,cwd:r,execPath:n}):i},ls=(e,t,s={})=>{let r=Di._parse(e,t,s);return e=r.command,t=r.args,s=r.options,s={maxBuffer:Zi,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:s.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...s},s.env=Ji(s),s.stdio=os(s),process.platform==="win32"&&Mi.basename(e,".exe")==="cmd"&&t.unshift("/q"),{file:e,args:t,options:s,parsed:r}},k=(e,t,s)=>typeof t!="string"&&!Buffer.isBuffer(t)?s===void 0?void 0:"":e.stripFinalNewline?Ui(t):t,fe=(e,t,s)=>{let r=ls(e,t,s),n=as(e,t),i=hs(e,t);$i(r.options);let o;try{o=ke.spawn(r.file,r.args,r.options)}catch(g){let x=new ke.ChildProcess,C=Promise.reject(ue({error:g,stdout:"",stderr:"",all:"",command:n,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1}));return is(x,C)}let a=Vi(o),h=qi(o,r.options,a),l=ki(o,r.options,h),u={isCanceled:!1};o.kill=Fi.bind(null,o.kill.bind(o)),o.cancel=Gi.bind(null,o,u);let m=Bi(async()=>{let[{error:g,exitCode:x,signal:C,timedOut:S},K,j,bs]=await ji(o,r.options,l),Ze=k(r.options,K),Je=k(r.options,j),Ye=k(r.options,bs);if(g||x!==0||C!==null){let ze=ue({error:g,exitCode:x,signal:C,stdout:Ze,stderr:Je,all:Ye,command:n,escapedCommand:i,parsed:r,timedOut:S,isCanceled:u.isCanceled,killed:o.killed});if(!r.options.reject)return ze;throw ze}return{command:n,escapedCommand:i,exitCode:0,stdout:Ze,stderr:Je,all:Ye,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return Ki(o,r.options.input),o.all=Wi(o,r.options),is(o,m)};U.exports=fe;U.exports.sync=(e,t,s)=>{let r=ls(e,t,s),n=as(e,t),i=hs(e,t);Qi(r.options);let o;try{o=ke.spawnSync(r.file,r.args,r.options)}catch(l){throw ue({error:l,stdout:"",stderr:"",all:"",command:n,escapedCommand:i,parsed:r,timedOut:!1,isCanceled:!1,killed:!1})}let a=k(r.options,o.stdout,o.error),h=k(r.options,o.stderr,o.error);if(o.error||o.status!==0||o.signal!==null){let l=ue({stdout:a,stderr:h,error:o.error,signal:o.signal,exitCode:o.status,command:n,escapedCommand:i,parsed:r,timedOut:o.error&&o.error.code==="ETIMEDOUT",isCanceled:!1,killed:o.signal!==null});if(!r.options.reject)return l;throw l}return{command:n,escapedCommand:i,exitCode:0,stdout:a,stderr:h,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};U.exports.command=(e,t)=>{let[s,...r]=cs(e);return fe(s,r,t)};U.exports.commandSync=(e,t)=>{let[s,...r]=cs(e);return fe.sync(s,r,t)};U.exports.node=(e,t,s={})=>{t&&!Array.isArray(t)&&typeof t=="object"&&(s=t,t=[]);let r=os.node(s),n=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:i=process.execPath,nodeOptions:o=n}=s;return fe(i,[...o,e,...Array.isArray(t)?t:[]],{...s,stdin:void 0,stdout:void 0,stderr:void 0,stdio:r,shell:!1})}});var io={};Ls(io,{default:()=>Es});module.exports=Os(io);var R=require("@raycast/api"),As=_(Ee());var Qe=require("@raycast/api"),We=_(require("fs")),Cs=_(require("path")),Ts=_(require("os")),ws=_(Ee()),_s=require("child_process");var gs=require("@raycast/api");var de=_(require("node:process"),1),ds=_(us(),1);function Ke({onlyFirst:e=!1}={}){let s=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?(?:\\u0007|\\u001B\\u005C|\\u009C))","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-nq-uy=><~]))"].join("|");return new RegExp(s,e?void 0:"g")}var Yi=Ke();function je(e){if(typeof e!="string")throw new TypeError(`Expected a \`string\`, got \`${typeof e}\``);return e.replace(Yi,"")}var pe=_(require("node:process"),1),fs=require("node:os"),zi=()=>{let{env:e}=pe.default;if(pe.default.platform==="win32")return e.COMSPEC||"cmd.exe";try{let{shell:t}=(0,fs.userInfo)();if(t)return t}catch{}return pe.default.platform==="darwin"?e.SHELL||"/bin/zsh":e.SHELL||"/bin/sh"},Xi=zi(),ps=Xi;var eo=["-ilc",'echo -n "_SHELL_ENV_DELIMITER_"; env; echo -n "_SHELL_ENV_DELIMITER_"; exit'],to={DISABLE_AUTO_UPDATE:"true"},ro=e=>{e=e.split("_SHELL_ENV_DELIMITER_")[1];let t={};for(let s of je(e).split(`
`).filter(r=>!!r)){let[r,...n]=s.split("=");t[r]=n.join("=")}return t};function ms(e){if(de.default.platform==="win32")return de.default.env;try{let{stdout:t}=ds.default.sync(e||ps,eo,{env:to});return ro(t)}catch(t){if(e)throw t;return de.default.env}}var me=null;function xs(){return me||(me=ms(),me)}function so(e){if(!We.default.existsSync(e))return{error:"Config file does not exist. Please check the path in preferences."};try{return{content:We.default.readFileSync(e,"utf-8")}}catch(t){let s;return t instanceof Error?s=`Error reading config file: ${t.message}`:s="Error reading config file: An unexpected error occurred.",console.error(s),{error:s}}}function no(e){try{return{config:ws.default.parse(e)}}catch(t){let s;return t instanceof Error?s=`Error parsing config file: ${t.message}`:s="Error parsing config file: An unexpected error occurred.",console.error(s),{error:s}}}function Ve(){let t=(0,_s.spawnSync)("aerospace",["config","--config-path"],{env:xs(),encoding:"utf8",timeout:15e3}).stdout.trim();return t.startsWith("~")&&(t=Cs.default.join(Ts.default.homedir(),t.slice(1))),{configPath:t}}function Rs(){let{configPath:e}=Ve();console.log("Config file path as is:",e);let{content:t,error:s}=so(e);if(s)return console.error(s),{error:s};let{config:r,error:n}=no(t);return n?(console.error(n),{error:n}):(console.log("Config:",r),{config:r})}var ge=require("react/jsx-runtime");function Es(){let{config:e,error:t}=Rs(),{configPath:s}=Ve(),r;return t?r=`Error: ${t}`:e?r="```toml\n"+As.default.stringify(e)+"\n```":r="No configuration available.",(0,ge.jsx)(R.Detail,{markdown:r,navigationTitle:"Config File",actions:(0,ge.jsx)(R.ActionPanel,{children:(0,ge.jsx)(R.Action,{title:"Open Config in Editor",onAction:async()=>{(0,R.open)(s)}})})})}
